{% if annotations_alerts|length > 0 %}
<div class="row">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
        <a data-toggle="collapse" data-parent="#accordion" href="#associated-general-view-alerts-annotations" style="color:red">Associated annotations alerts <span class="fa fa-angle-double-down"></span></a>
      </h3>
    </div>
    <!-- /.panel-heading -->
    <div class="panel-body panel-collapse collapse in" id="associated-general-view-alerts-annotations">
      <div>
        <h3 style="color:red"><u>Table of alerts</u></h3>
      </div>
      <p>
        The following table shows the list alerts associated to the annotations:
        <br/>
      </p>
      <br/>
      <br/>

      <table width="100%" class="table table-striped table-bordered table-hover table-search" id="associated-general-view-alerts-annotations-details-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Severity</th>
            <th>Description</th>
            <th>Group</th>
            <th>Associated annotation</th>
            <th>Message</th>
            <th>Validated</th>
            <th>Generator</th>
            <th>Justification</th>
            <th>Notified</th>
            <th>Notification time</th>
            <th>Ingestion time</th>
            <th>Solved</th>
            <th>Solved time</th>
            <th>Alert UUID</th>
            <th>Group UUID</th>
            <th>UUID</th>
          </tr>
        </thead>
        <tbody>
          {% for alert in annotations_alerts %}
          <tr>
            {% set severity_label=alert.alertDefinition.severity|get_severity_label %}
            <td>{{ alert.alertDefinition.name }}</td>
            <td class="{{ severity_label }}-severity">{{ severity_label }}</td>
            <td>{{ alert.alertDefinition.description }}</td>
            <td>{{ alert.alertDefinition.group.name }}</td>
            <td><a href="/general_view_alerts/query-annotation/{{ alert.annotation_uuid }}"><i class="fa fa-link"></i></a></td>
            <td>{{ alert.message }}</td>
            <td>{{ alert.validated }}</td>
            <td>{{ alert.generator }}</td>
            <td>{{ alert.justification }}</td>
            <td>{{ alert.notified }}</td>
            <td>{{ alert.notification_time }}</td>
            <td>{{ alert.ingestion_time }}</td>
            <td>{{ alert.solved }}</td>
            <td>{{ alert.solved_time }}</td>
            <td>{{ alert.alert_uuid }}</td>
            <td>{{ alert.alertDefinition.group.alert_group_uuid }}</td>
            <td>{{ alert.annotation_alert_uuid }}</td>
          </tr>
          {% endfor %}
        </tbody>
        <tfoot>
          <tr>
            <th>Name</th>
            <th>Severity</th>
            <th>Description</th>
            <th>Group</th>
            <th>Associated annotation</th>
            <th>Message</th>
            <th>Validated</th>
            <th>Generator</th>
            <th>Justification</th>
            <th>Notified</th>
            <th>Notification time</th>
            <th>Ingestion time</th>
            <th>Solved</th>
            <th>Solved time</th>
            <th>Alert UUID</th>
            <th>Group UUID</th>
            <th>UUID</th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
{% else %}
<div class="row">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
        <a data-toggle="collapse" data-parent="#accordion" href="#annotations-alerts">Annotations alerts <span class="fa fa-angle-double-down"></span></a>
      </h3>
    </div>
    <div class="panel-body panel-collapse collapse in" id="annotations-alerts">
      <div>
        <p id="no-general-view-alerts-annotations-data" style="text-indent: 1em">There are no alerts during the requested period.</p>
        <br/>
      </div>
    </div>
  </div>
</div>
{% endif %}
